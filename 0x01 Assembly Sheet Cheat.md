# Simple x86 Architecture Assembly Sheet Cheat

## Registers:

| Register | Description |  
| ----------- | ----------- |  
| Generale Purpose | Eight 32-bit registers used for storing working data |  
| Segment | siz 16-bit registers used for handling memory access |
| Instruction pointer | Asingle 32-bit register pointing to the next instruction code to execute|

### General-Purpose Registers:

| Register | Description |  
| ----------- | ----------- |  
| EAX | Accumulator for operands and reults data |  
| EBX | Pointer to data in the data memory segment |
| ECX | Counter for string and loop operations |
| EDX | I/O pointer|
| EDI | Data pointer for destination of string operations |
| ESI | Data pointer for the source of string operations |
| ESP | Stack pointer |
| EBP | Stack data pointer |

![[GeneralPurposeRegister.png]]
Figure -1-

### Segment Registers:

- Used to reference memory locations
	- **Flat memory model** 
		- Linear address
	- **Segmented memory model**
		- Divids memory into groups of independent segments
		- Each segment referenced by a pointers located in the segment registers
		- Each segment contain a specific type of data
			- Code segment
			- Data segment
			- Stack segment
		- To access a byte of memory:
			- Logical address formed by the segment address and offser address
			- Logical address: "SegmentRegister : Offset"
			- Then the linear address corresponding to Logical address is used to access byte of memory
		- Code segment (CS) and instruction pointer (EIP) register are used to access instructions code 
			- Logical address: CS:EIP
			- CS assigned by microprocessor
		- SS segment register point to the stack segment
			- The stack contains data values passed to functions and procedures.
			- **Real-address mode**
				- All segments registers point to the zero linear address 

| Segment Register | Description |  
| ----------- | ----------- |  
| CS | Code segment |  
| DS | Data segment |
| SS | Stack segment |
| ES | extra segment pointer |
| FS | Extra segment pointer |
| GS | Extra segment pointer |

### Instruction Pointer  Register:

- EIP
- Program counter
- Point to the next instruction code to execute

### Flags:
- **Status flags**
	- **Note:** 
		- AF used in BCD addition
		- OF used  in signed integer arithmetic


| Flag | Bit number | Name | 
| ----------- | ----------- | ----------- | 
| CF | 0 | Carry flag |
| PF | 2 | Parity flag |
| AF | 4 | Adjust flag |
| ZF | 6 | Zero flag |
| SF | 7 | Sign flag |
| OF | 11 | Overflow flag |


- **Control flags**
	- **DF:** dirction flag
	- Used to control the way strings are handled by the processor
	- DF = 1: automatically decrement memory addresses to get the next byte in the string
	- DF =0: automatically increment memory addresses to get the next byte in the string


- **System flags**

| Flag | Bit number | Name | Usage |
| ----------- | ----------- | ----------- | ----------- | 
| TF | 8 | Trap flag | For debugging |
| IF | 9 | Interrupt enable flag | How processor responds to signals received from external sources |
| IOPL | 12 and 13 | I/O privilige level flag | Add privilige level to I/O of the currently running task |
| NT | 14 | Nested task flag | Used for chaining interrupted and called tasks |
| RF | 16 | Resume flag | Processor responds to exceptions in debugging mode |
| VM | 17 | Virtual-8086 mode flag | 
| AC | 18 | Alignment check flag |
| VIF | 19 | Virtual interrupt flag |
| VIP | 20 | Virtual interrupt pending flag |
| ID | 21 | Identification flag |


